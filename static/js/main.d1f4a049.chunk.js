(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{22:function(e,t){},42:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){},55:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(34),r=s.n(a),i=(s(42),s(96),s(97),s(98),s(99),s(18)),l=s(9),o=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};default:return e}},u=s(0),j={user:null,isFetching:!1,error:!1},d=Object(c.createContext)(j),b=function(e){var t=e.children,s=Object(c.useReducer)(o,j),n=Object(l.a)(s,2),a=n[0],r=n[1];return Object(u.jsx)(d.Provider,{value:{user:a.user,isFetching:a.isFetching,error:a.error,dispatch:r},children:t})};s(52),s(100),s(101),s(102),s(103),s(104),s(105),s(106),s(107),s(53);var p=s(4),m=s.n(p),O=s(13),h=(s(55),s(108),s(7)),x=s.n(h);s(36);s(74),s(109),s(110),s(111),s(112),s(113);s(75);s(22),s(76);s(77);var g=function(){var e=Object(O.a)(m.a.mark((function e(t,s){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,x.a.post("/auth/login",t);case 4:c=e.sent,s({type:"LOGIN_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}();function v(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useContext)(d),n=s.user,a=s.isFetching,r=(s.error,s.dispatch);return console.log(n),Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"loginWrapper",children:[Object(u.jsxs)("div",{className:"loginLeft",children:[Object(u.jsx)("h3",{className:"loginLogo",children:"INTOPCOL "}),Object(u.jsx)("span",{className:"loginDesc",children:"Conectate con tu equipo de trabajo"})]}),Object(u.jsx)("div",{className:"loginRight",children:Object(u.jsxs)("form",{className:"loginBox",onSubmit:function(s){s.preventDefault(),g({email:e.current.value,password:t.current.value},r)},children:[Object(u.jsx)("input",{placeholder:"Email",type:"email",required:!0,className:"loginInput",ref:e}),Object(u.jsx)("input",{placeholder:"Contrase\xf1a",type:"password",required:!0,minLength:"6",className:"loginInput",ref:t}),Object(u.jsx)("button",{className:"loginButton",children:a?"loading":"Iniciar sesi\xf3n"}),Object(u.jsx)("span",{className:"loginForgot",children:"Olvidaste tu contrase\xf1a?"}),Object(u.jsx)("button",{className:"loginRegisterButton",type:"submit",children:"Crea tu cuenta "})]})})]})})}s(78);var f=s(3);s(79);function N(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(f.g)(),l=function(){var c=Object(O.a)(m.a.mark((function c(l){var o;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(l.preventDefault(),r.current.value===a.current.value){c.next=5;break}r.current.setCustomValidity("Passwords don't match!"),c.next=16;break;case 5:return o={username:e.current.value,email:n.current.value,password:a.current.value,name:t.current.value,userType:s.current.value},c.prev=6,c.next=9,x.a.post("auth/register",o);case 9:i.push("/login"),console.log(o),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(6),console.log(c.t0);case 16:case"end":return c.stop()}}),c,null,[[6,13]])})));return function(e){return c.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"loginWrapper",children:[Object(u.jsxs)("div",{className:"loginLeft",children:[Object(u.jsx)("h3",{className:"loginLogo",children:"INTOPCOL"}),Object(u.jsx)("span",{className:"loginDesc",children:"Conectate con tu equipo de trabajo"})]}),Object(u.jsx)("div",{className:"loginRight",children:Object(u.jsxs)("form",{className:"loginBox",onSubmit:l,children:[Object(u.jsx)("input",{placeholder:"Usuario",required:!0,ref:e,className:"loginInput"}),Object(u.jsx)("input",{placeholder:"Nombre",required:!0,ref:t,className:"loginInput"}),Object(u.jsx)("input",{placeholder:"Cargo",required:!0,ref:s,className:"loginInput"}),Object(u.jsx)("input",{placeholder:"Email",required:!0,ref:n,className:"loginInput",type:"email"}),Object(u.jsx)("input",{placeholder:"Contrase\xf1a",required:!0,ref:a,className:"loginInput",type:"password",minLength:"6"}),Object(u.jsx)("input",{placeholder:"Confirma tu contrase\xf1a",required:!0,ref:r,className:"loginInput",type:"password"}),Object(u.jsx)("button",{className:"loginButton",type:"submit",children:"Iniciar sesi\xf3n"}),Object(u.jsx)("button",{className:"loginRegisterButton",children:"Iniciar sesi\xf3n en la cuenta"})]})})]})})}s(80);function I(e){e.conversation,e.currentUser;return Object(u.jsxs)("div",{className:"conversation",children:[Object(u.jsx)("img",{className:"conversationImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQH3Wpc9vM2rYobaVxNxpMZX5SFDPjfXAGq_w&usqp=CAU",alt:""}),Object(u.jsx)("span",{className:"conversationName",children:"Cosme Fulanito"})]})}s(81),s(82);function C(e){var t=e.own;return Object(u.jsx)("div",{className:t?"message own":"message",children:Object(u.jsxs)("div",{className:"messageTop",children:[Object(u.jsx)("img",{className:"messageImg",src:"https://imagenes.20minutos.es/files/article_amp/uploads/imagenes/2018/11/07/819228.jpg",alt:""}),Object(u.jsx)("p",{className:"messageText",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nulla deserunt porro, architecto voluptatibus odio fugiat vero eaque magni quis sunt reprehenderit cumque tempora aliquam similique ipsam neque ad libero voluptas!"}),Object(u.jsx)("div",{className:"messageBottom",children:"1 hour ago"})]})})}s(83);function q(){return Object(u.jsx)("div",{className:"chatOnline",children:Object(u.jsxs)("div",{className:"chatOnlineCoworker",children:[Object(u.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(u.jsx)("img",{className:"chatOnlineImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQH3Wpc9vM2rYobaVxNxpMZX5SFDPjfXAGq_w&usqp=CAU",alt:"ImgUserOnline"}),Object(u.jsx)("div",{className:"chatOnlineBadge"})]}),Object(u.jsx)("span",{className:"chatOnlineName",children:"John Doe"})]})})}function y(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),s=t[0],n=(t[1],Object(c.useContext)(d).user);return console.log(n),Object(c.useEffect)((function(){}),[n._id]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"messenger",children:[Object(u.jsx)("div",{className:"chatmenu"}),Object(u.jsxs)("div",{className:"chatMenuWrapper",children:[Object(u.jsx)("input",{placeholder:"Busca a tus amigos",className:"chatMenuInput"}),s.map((function(e){return Object(u.jsx)(I,{conversation:e,current:n})}))]}),Object(u.jsx)("div",{className:"chatBox"}),Object(u.jsxs)("div",{className:"chatBoxWrapper",children:[Object(u.jsxs)("div",{className:"chatBoxTop",children:[Object(u.jsx)(C,{}),Object(u.jsx)(C,{own:!0}),Object(u.jsx)(C,{})]}),Object(u.jsxs)("div",{className:"chatBoxBottom",children:[Object(u.jsx)("textarea",{className:"chatMessageInput",placeholder:"escribe tu mensaje"}),Object(u.jsx)("button",{className:"chatSubmitButton",children:"Enviar"})]})]}),Object(u.jsx)("div",{className:"chatOnline"}),Object(u.jsx)("div",{className:"chatOnlineWrapper",children:Object(u.jsx)(q,{})})]})})}var w=function(){var e=Object(c.useContext)(d).user;return Object(u.jsx)(i.a,{basename:"/ChatAppDeployedFrontend",children:Object(u.jsxs)(f.d,{children:[Object(u.jsx)(f.b,{exact:!0,path:"/",children:e?Object(u.jsx)(f.a,{to:"/messenger"}):Object(u.jsx)(N,{})}),Object(u.jsx)(f.b,{path:"/login",children:e?Object(u.jsx)(f.a,{to:"/"}):Object(u.jsx)(v,{})}),Object(u.jsx)(f.b,{path:"/register",children:e?Object(u.jsx)(f.a,{to:"/login"}):Object(u.jsx)(N,{})}),Object(u.jsxs)(f.b,{path:"/messenger",children:[e?Object(u.jsx)(f.a,{to:"/messenger"}):Object(u.jsx)(v,{}),Object(u.jsx)(y,{})]})]})})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(b,{children:Object(u.jsx)(w,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.d1f4a049.chunk.js.map